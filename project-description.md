# Чек-лист по этапам для разработки приложения "Конструктор боя"

---

## Этап 1 — Базовая структура проекта

**Запрос к нейросети:**

Создай проект на Next.js с Tailwind CSS.
Сделай главную страницу / с двумя зонами: шапка с меню и контейнер для конструктора боя.
В шапке пока только название приложения и заготовка для меню.
Добавь маршруты /training и /gallery с заглушками.

---

## Этап 2 — Отрисовка стрелочек

**Запрос:**

Сделай компонент BeatRow, который принимает количество долей (4, 8 или 16) и рисует последовательность SVG-стрелочек вверх/вниз поочерёдно.
Под каждой стрелкой оставь место для кружка-пометки (пустой круг).
Стрелки должны быть кликабельными (позже добавим функционал).

---

## Этап 3 — Интерактивные кружки

**Запрос:**

Доработай компонент BeatRow, чтобы клик по кружку менял его состояние: пустой → закрашенный.
Храни данные в массиве объектов:
{ direction: "down" | "up", play: boolean }.
При изменении состояния кружка обновляй массив в useState.

---

## Этап 4 — Генерация боя

**Запрос:**

Добавь кнопку "Сгенерировать бой".
При нажатии создавай массив стрелок с правилом: первый удар play: true, остальные случайное true/false.
Обновляй визуализацию стрелок на основе нового массива.

---

## Этап 5 — Панель управления темпом

**Запрос:**

Сделай компонент ControlPanel с полем ввода BPM (от 40 до 200), выпадающим списком скоростей (50%, 75%, 100%, 125%), и кнопками Play/Pause.
Храни BPM и скорость в состоянии.
Передавай эти параметры в компонент воспроизведения.

---

## Этап 6 — Воспроизведение

**Запрос:**

Сделай так, чтобы при нажатии Play стрелки проигрывались по порядку с учётом BPM и скорости.
Подсвечивай текущую стрелку при воспроизведении.

---

## Этап 7 — Аккорды

**Запрос:**

Добавь поле для ввода аккордов в формате "Am | G | F | C".
Свяжи каждый такт с аккордом (при 4 долях — один аккорд на такт).
При воспроизведении изменяй высоту звука ударов в зависимости от текущего аккорда.

---

## Этап 8 — Экспорт в картинку

**Запрос:**

Подключи html2canvas или dom-to-image.
Добавь кнопку "Экспорт", которая делает скриншот области с боем и сохраняет PNG на устройство.

---

## Этап 9 — Сохранение на сервер

**Запрос:**

Настрой API в Next.js для сохранения боёв.
Данные для сохранения: JSON боя + PNG (как Base64).
Подключи SQLite через Prisma.
Сделай два эндпоинта: /api/save и /api/load/:id.

---

## Этап 10 — Подготовка к расширению

**Запрос:**

Вынеси логику работы с боями в отдельный хук useBeatPattern.
Подготовь структуру для будущих страниц "Обучение" и "Галерея".
Добавь в меню навигацию между разделами.